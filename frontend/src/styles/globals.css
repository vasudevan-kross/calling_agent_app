@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes waveBar {
  0%, 100% { transform: scaleY(0.4); }
  50%       { transform: scaleY(1); }
}

.wave-bar-playing {
  transform-origin: bottom;
  animation: waveBar var(--bar-duration, 0.75s) ease-in-out infinite;
}

@layer base {
  :root {
    --background: 210 20% 98%;
    --foreground: 222.2 84% 4.9%;
    --primary: 217 91% 60%;
    --primary-foreground: 210 40% 98%;
    --border: 214 20% 85%;
    --muted: 210 15% 95%;
    --muted-foreground: 215 16% 47%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --primary: 217 91% 60%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --border: 217.2 32.6% 17.5%;
    --muted: 217.2 32.6% 12%;
    --muted-foreground: 215 20% 65%;
    --card: 222 47% 8%;
    --card-foreground: 210 40% 98%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer components {
  .glass-card {
    @apply backdrop-blur-md border rounded-xl;
    background: rgba(255, 255, 255, 0.7);
    border-color: rgba(0, 0, 0, 0.08);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  }

  .dark .glass-card {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.1);
    box-shadow: none;
  }

  .glass-card-hover {
    @apply glass-card cursor-pointer transition-all duration-300;
  }

  .glass-card-hover:hover {
    background: rgba(255, 255, 255, 0.85);
  }

  .dark .glass-card-hover:hover {
    background: rgba(255, 255, 255, 0.1);
  }

  .gradient-text {
    @apply bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent;
  }

  .dark .gradient-text {
    @apply from-blue-400 to-purple-600;
  }

  /* Theme-aware text colors */
  .text-secondary {
    @apply text-gray-600;
  }

  .dark .text-secondary {
    @apply text-white/60;
  }

  .text-tertiary {
    @apply text-gray-400;
  }

  .dark .text-tertiary {
    @apply text-white/40;
  }

  /* Toast notification styles */
  .toast-notification {
    @apply backdrop-blur-xl rounded-xl px-4 py-3 text-sm font-medium shadow-lg border;
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: rgba(0, 0, 0, 0.08) !important;
    color: #1a1a2e !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12) !important;
  }

  .dark .toast-notification {
    background: rgba(30, 41, 59, 0.95) !important;
    border-color: rgba(255, 255, 255, 0.12) !important;
    color: #f1f5f9 !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4) !important;
  }

  .toast-notification [data-icon] svg {
    width: 18px;
    height: 18px;
  }
}

@layer utilities {
  .text-balance { text-wrap: balance; }

  /* ── Entry ─────────────────────────────────────────── */
  .animate-fade-in        { animation: fadeIn    0.3s ease-out both; }
  .animate-slide-up       { animation: slideUp   0.4s ease-out both; }
  .animate-slide-in-right { animation: slideInRight 0.3s ease-out; }

  /* Stagger delays for lists/grids */
  .stagger-1 { animation-delay: 0.05s; }
  .stagger-2 { animation-delay: 0.10s; }
  .stagger-3 { animation-delay: 0.15s; }
  .stagger-4 { animation-delay: 0.20s; }
  .stagger-5 { animation-delay: 0.25s; }
  .stagger-6 { animation-delay: 0.30s; }

  /* ── Float (elements) ──────────────────────────────── */
  .animate-float         { animation: float        6s  ease-in-out infinite; }
  .animate-float-slow    { animation: float        9s  ease-in-out infinite; }
  .animate-float-slower  { animation: float        13s ease-in-out infinite; }
  .animate-float-reverse { animation: floatReverse 8s  ease-in-out infinite; }

  /* ── Orb drift (background blobs) ─────────────────── */
  .animate-drift-1 { animation: drift1 18s ease-in-out infinite; }
  .animate-drift-2 { animation: drift2 22s ease-in-out infinite; }
  .animate-drift-3 { animation: drift3 26s ease-in-out infinite; }
  .animate-drift-4 { animation: drift4 20s ease-in-out infinite; }

  /* ── Glow pulse ────────────────────────────────────── */
  .animate-glow         { animation: glowPulse    3s ease-in-out infinite; }
  .animate-spin-slow    { animation: spin         12s linear infinite; }
  .animate-bounce-subtle{ animation: bounceSlight 2s ease-in-out infinite; }

  /* ── Shimmer ───────────────────────────────────────── */
  .animate-shimmer {
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.07) 50%, transparent 100%);
    background-size: 200% 100%;
    animation: shimmer 2.5s ease-in-out infinite;
  }

  /* ─────────────────── Keyframes ──────────────────── */

  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to   { transform: translateX(0);    opacity: 1; }
  }
  @keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
  }
  @keyframes slideUp {
    from { opacity: 0; transform: translateY(24px); }
    to   { opacity: 1; transform: translateY(0);    }
  }
  @keyframes float {
    0%, 100% { transform: translateY(0px);   }
    50%       { transform: translateY(-14px); }
  }
  @keyframes floatReverse {
    0%, 100% { transform: translateY(0px);  }
    50%       { transform: translateY(14px); }
  }
  @keyframes drift1 {
    0%   { transform: translate(0px,   0px)   scale(1);    }
    25%  { transform: translate(40px, -30px)  scale(1.05); }
    50%  { transform: translate(20px, -60px)  scale(0.97); }
    75%  { transform: translate(-20px,-30px)  scale(1.03); }
    100% { transform: translate(0px,   0px)   scale(1);    }
  }
  @keyframes drift2 {
    0%   { transform: translate(0px,   0px)  scale(1);    }
    33%  { transform: translate(-50px, 40px) scale(1.08); }
    66%  { transform: translate(30px,  60px) scale(0.95); }
    100% { transform: translate(0px,   0px)  scale(1);    }
  }
  @keyframes drift3 {
    0%   { transform: translate(0px,  0px)   scale(1);    }
    40%  { transform: translate(60px,  50px) scale(1.06); }
    70%  { transform: translate(-30px, 80px) scale(0.98); }
    100% { transform: translate(0px,  0px)   scale(1);    }
  }
  @keyframes drift4 {
    0%   { transform: translate(0px,   0px)   scale(1);    }
    30%  { transform: translate(-40px,-50px)  scale(1.04); }
    60%  { transform: translate(50px,  -20px) scale(0.96); }
    100% { transform: translate(0px,   0px)   scale(1);    }
  }
  @keyframes glowPulse {
    0%, 100% { opacity: 0.45; filter: blur(40px); }
    50%       { opacity: 0.85; filter: blur(58px); }
  }
  @keyframes shimmer {
    0%   { background-position: -200% 0; }
    100% { background-position:  200% 0; }
  }
  @keyframes spin {
    from { transform: rotate(0deg);   }
    to   { transform: rotate(360deg); }
  }
  @keyframes bounceSlight {
    0%, 100% { transform: translateY(0);    }
    50%       { transform: translateY(-5px); }
  }
}

/* ── Scroll Reveal ───────────────────────────────────────────────── */
.sr {
  opacity: 0;
  transform: translateY(48px);
  transition: opacity 0.65s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.65s cubic-bezier(0.16, 1, 0.3, 1);
}
.sr.sr-left  { transform: translateX(-48px); }
.sr.sr-right { transform: translateX(48px); }
.sr.sr-scale { transform: translateY(24px) scale(0.96); }

.sr.sr-visible {
  opacity: 1;
  transform: translate(0, 0) scale(1);
}
